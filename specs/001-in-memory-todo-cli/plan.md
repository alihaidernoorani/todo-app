# Implementation Plan: In-Memory Todo CLI App

**Branch**: `001-in-memory-todo-cli` | **Date**: 2026-01-02 | **Spec**: specs/001-in-memory-todo-cli/spec.md
**Input**: Feature specification from `/specs/001-in-memory-todo-cli/spec.md`

**Note**: This template is filled in by the `/sp.plan` command. See `.specify/templates/commands/plan.md` for the execution workflow.

## Summary

Implement an in-memory Python console todo application with add, view, update, delete, and mark complete functionality. The application will use a persistent interactive CLI interface with a `todo> ` prompt. The design emphasizes clear separation of concerns between domain logic and presentation logic, with CLI UX that supports both inline and interactive command styles, help command, and detailed error messages with usage hints.

## Technical Context

**Language/Version**: Python 3.13+ (as per constitution)
**Primary Dependencies**: Standard Library Only (as per constitution)
**Storage**: In-Memory (dict-based store for tasks)
**Testing**: pytest
**Target Platform**: Linux/WSL2 Console
**Project Type**: Single project (CLI)
**Performance Goals**: Instant console response
**Constraints**: No external database, No networking, No manual code edits, In-memory only
**Scale/Scope**: Phase I: In-Memory Todo CLI
**UX Requirements**: Both inline and interactive command styles, help command, error messages with usage hints
**Architecture**: Strict separation between domain logic (store) and presentation logic (CLI)
**Evolution Constraints**: Design must support transition to FastAPI + SQLModel in Phase II

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

1. **Spec-Driven Development First**: ✅ All changes based on approved specification
2. **Zero Manual Coding**: ✅ All code will be generated by Claude Code via Spec-Kit Plus
3. **Simplicity Before Scale**: ✅ Focusing on in-memory solution without persistence
4. **Deterministic Behavior**: ✅ Complete command has idempotent behavior as specified
5. **Separation of Concerns**: ✅ Will maintain boundary between models, services, and CLI
6. **Evolution Constraints**: ✅ Design will support transition to FastAPI + SQLModel in Phase II
7. **Phase I Scope Compliance**: ✅ In-memory only, no network APIs or auth
8. **Technical Standards Compliance**: ✅ Python 3.13+, dataclasses, stdlib only
9. **UX Requirements Compliance**: ✅ Plan includes help command, error hints, and both command styles
10. **Architecture Alignment**: ✅ Clear separation between domain logic and presentation logic

## Project Structure

### Documentation (this feature)

```text
specs/[###-feature]/
├── plan.md              # This file (/sp.plan command output)
├── research.md          # Phase 0 output (/sp.plan command)
├── data-model.md        # Phase 1 output (/sp.plan command)
├── quickstart.md        # Phase 1 output (/sp.plan command)
├── contracts/           # Phase 1 output (/sp.plan command)
└── tasks.md             # Phase 2 output (/sp.tasks command - NOT created by /sp.plan)
```

### Source Code (repository root)

```text
src/
├── models/
│   └── task.py          # Task dataclass definition
├── services/
│   └── todo_service.py  # Business logic for todo operations with in-memory storage
└── cli.py               # Main CLI entry point with interactive loop and command processing

tests/
├── unit/
│   ├── test_models.py      # Unit tests for Task model
│   └── test_services.py    # Unit tests for todo service functions
└── integration/
    └── test_cli.py         # Integration tests for CLI functionality
```

**Structure Decision**: Single project structure with clear separation of concerns. The src/ directory contains models, services, and CLI components. The CLI handles both domain logic (via service layer) and presentation logic (user interaction), maintaining clear separation between the layers.

## Complexity Tracking

> **Fill ONLY if Constitution Check has violations that must be justified**

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| [e.g., 4th project] | [current need] | [why 3 projects insufficient] |
| [e.g., Repository pattern] | [specific problem] | [why direct DB access insufficient] |
